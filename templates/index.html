<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predictive Maintenance Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>

    <!-- 🌗 Theme Toggle -->
    <div class="toggle-container" onclick="toggleTheme()">
        <div class="toggle-switch"></div>
        <span id="theme-label">Dark Mode 🌙</span>
    </div>

    <!-- ⚙️ Main Container -->
    <div class="container">
        <h1>🚀 Predictive Maintenance</h1>

        <form id="predictForm" method="POST" action="/predict">
            <label for="model_name">Select Model:</label>
            <select name="model_name" id="model_name">
                {% for model in models %}
                <option value="{{ model }}">{{ model }}</option>
                {% endfor %}
            </select>

            <label for="input_data">Enter Sensor Data (comma separated):</label>
            <textarea name="input_data" id="input_data" rows="5" placeholder="e.g. 0.45, 0.23, 0.56, ..."></textarea>

            <button type="submit">Predict RUL 🔍</button>
        </form>

        <!-- 🧾 Result Section -->
        {% if result %}
        <div class="result-card">
            <h2>📊 Prediction Result</h2>
            <p><strong>Model Used:</strong> {{ result.model_used }}</p>
            <p><strong>Predicted RUL:</strong> {{ result.predicted_RUL }}</p>
            <p><strong>Status:</strong> {{ result.machine_status }}</p>
        </div>
        {% endif %}
    </div>

    <!-- 🌞 Toggle Script -->
    <script>
        function toggleTheme() {
            document.body.classList.toggle("light-mode");
            const label = document.getElementById("theme-label");
            if (document.body.classList.contains("light-mode")) {
                label.textContent = "Light Mode ☀️";
            } else {
                label.textContent = "Dark Mode 🌙";
            }
        }
    </script>

</body>
</html>
